# Incident Report: INC-2026-0115

## Summary
Feature V14 experienced significant distribution shift due to a vendor API format change, causing aggregate drift score to exceed critical threshold (0.52).

## Severity
P2

## Timeline
- 09:15 — Monitoring agent detected aggregate drift score 0.35 (warning threshold)
- 09:18 — Diagnostic agent began per-feature investigation
- 09:22 — V14 identified as primary drifting feature (PSI = 0.78), V17 secondary (PSI = 0.45)
- 09:25 — RAG consultation matched pattern to vendor API change scenario
- 09:30 — Data engineering confirmed: vendor updated transaction encoding format at 08:00
- 09:45 — Feature pipeline updated to handle new encoding format
- 10:00 — Retraining triggered with corrected feature pipeline
- 10:35 — New model passed evaluation gate (F1 = 0.90 vs production 0.91)
- 10:40 — Blue-green deployment completed
- 11:10 — Drift scores returned to normal across all features

## Root Cause
The payment processor vendor updated their API response format, changing how transaction category codes were encoded. This affected the V14 PCA component (which captures transaction category variance) and secondarily V17 (correlated component). The feature pipeline was ingesting the new format without transformation, causing a distribution shift in the derived features.

## Resolution
1. Updated the feature pipeline to normalize the new encoding format to match historical distribution.
2. Retrained the model on 2 weeks of data including the corrected new-format transactions.
3. Deployed the retrained model via blue-green swap.
4. Added a schema validation check for the vendor API response format.

## Lessons Learned
- Vendor API changes should be tracked via a change notification subscription.
- Added monitoring for individual feature PSI thresholds (previously only tracked aggregate).
- Created automated test that validates vendor API response schema against expected format.
- The V14/V17 correlation pattern is now documented in the model drift runbook.

## Affected Components
- Feature pipeline (transaction encoding)
- classifier_v2 model (drift-induced degradation)
- Fraud scoring accuracy (minor — F1 remained above 0.85 throughout)
